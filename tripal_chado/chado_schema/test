acquisition:
  description: "This represents the scanning of hybridized material. The output of this process is typically a digital image of an array."
  fields:
    acquisition_id:
      type: serial
      not null: TRUE
    assay_id:
      type: bigint
      not null: TRUE
    protocol_id:
      type: bigint
      not null: FALSE
    channel_id:
      type: bigint
      not null: FALSE
    acquisitiondate:
      type: timestamp without time zone
      not null: FALSE
      default: CURRENT_TIMESTAMP
    name:
      type: text
      not null: FALSE
    uri:
      type: text
      not null: FALSE
  unique keys:
    acquisition_c1: name
  primary key: acquisition_id
  foreign keys:
    assay:
      table: assay
      columns:
        assay_id: assay_id
    channel:
      table: channel
      columns:
        channel_id: channel_id
    protocol:
      table: protocol
      columns:
        protocol_id: protocol_id
  referring_tables: acquisition_relationship, acquisitionprop, quantification
acquisition_relationship:
  description: "Multiple monochrome images may be merged to form a multi-color image. Red-green images of 2-channel hybridizations are an example of this."
  fields:
    acquisition_relationship_id:
      type: serial
      not null: TRUE
    subject_id:
      type: bigint
      not null: TRUE
    type_id:
      type: bigint
      not null: TRUE
    object_id:
      type: bigint
      not null: TRUE
    value:
      type: text
      not null: FALSE
    rank:
      type: integer
      not null: TRUE
  unique keys:
    acquisition_relationship_c1: subject_id, object_id, type_id, rank
  primary key: acquisition_relationship_id
  foreign keys:
    acquisition:
      table: acquisition
      columns:
        object_id: acquisition_id
        subject_id: acquisition_id
    cvterm:
      table: cvterm
      columns:
        type_id: cvterm_id
  referring_tables: 
acquisitionprop:
  description: "Parameters associated with image acquisition."
  fields:
    acquisitionprop_id:
      type: serial
      not null: TRUE
    acquisition_id:
      type: bigint
      not null: TRUE
    type_id:
      type: bigint
      not null: TRUE
    value:
      type: text
      not null: FALSE
    rank:
      type: integer
      not null: TRUE
  unique keys:
    acquisitionprop_c1: acquisition_id, type_id, rank
  primary key: acquisitionprop_id
  foreign keys:
    acquisition:
      table: acquisition
      columns:
        acquisition_id: acquisition_id
    cvterm:
      table: cvterm
      columns:
        type_id: cvterm_id
  referring_tables: 
analysis:
  description: "An analysis is a particular type of a     computational analysis; it may be a blast of one sequence against     another, or an all by all blast, or a different kind of analysis     altogether. It is a single unit of computation."
  fields:
    analysis_id:
      type: serial
      not null: TRUE
    name:
      type: character varying
      not null: FALSE
      size: 255
    description:
      type: text
      not null: FALSE
    program:
      type: character varying
      not null: TRUE
      size: 255
    programversion:
      type: character varying
      not null: TRUE
      size: 255
    algorithm:
      type: character varying
      not null: FALSE
      size: 255
    sourcename:
      type: character varying
      not null: FALSE
      size: 255
    sourceversion:
      type: character varying
      not null: FALSE
      size: 255
    sourceuri:
      type: text
      not null: FALSE
    timeexecuted:
      type: timestamp without time zone
      not null: TRUE
      default: CURRENT_TIMESTAMP
  unique keys:
    analysis_c1: program, programversion, sourcename
  primary key: analysis_id
  referring_tables: analysis_cvterm, analysis_dbxref, analysis_pub, analysis_relationship, analysisfeature, analysisprop, nd_experiment_analysis, phylotree, project_analysis, quantification
analysis_cvterm:
  description: "Associate a term from a cv with an analysis."
  fields:
    analysis_cvterm_id:
      type: serial
      not null: TRUE
    analysis_id:
      type: bigint
      not null: TRUE
    cvterm_id:
      type: bigint
      not null: TRUE
    is_not:
      type: boolean
      not null: TRUE
      default: false
    rank:
      type: integer
      not null: TRUE
  unique keys:
    analysis_cvterm_c1: analysis_id, cvterm_id, rank
  primary key: analysis_cvterm_id
  foreign keys:
    analysis:
      table: analysis
      columns:
        analysis_id: analysis_id
    cvterm:
      table: cvterm
      columns:
        cvterm_id: cvterm_id
  referring_tables: 
analysis_dbxref:
  description: "Links an analysis to dbxrefs."
  fields:
    analysis_dbxref_id:
      type: serial
      not null: TRUE
    analysis_id:
      type: bigint
      not null: TRUE
    dbxref_id:
      type: bigint
      not null: TRUE
    is_current:
      type: boolean
      not null: TRUE
      default: true
  unique keys:
    analysis_dbxref_c1: analysis_id, dbxref_id
  primary key: analysis_dbxref_id
  foreign keys:
    analysis:
      table: analysis
      columns:
        analysis_id: analysis_id
    dbxref:
      table: dbxref
      columns:
        dbxref_id: dbxref_id
  referring_tables: 
analysis_organism:
  description: "This view is for associating an organism (via it\'s associated features) to an analysis."
  fields:
    analysis_id:
      type: bigint
      not null: TRUE
    organism_id:
      type: bigint
      not null: TRUE
  primary key: 
analysis_pub:
  description: "Provenance. Linking table between analyses and the publications that mention them."
  fields:
    analysis_pub_id:
      type: serial
      not null: TRUE
    analysis_id:
      type: bigint
      not null: TRUE
    pub_id:
      type: bigint
      not null: TRUE
  unique keys:
    analysis_pub_c1: analysis_id, pub_id
  primary key: analysis_pub_id
  foreign keys:
    analysis:
      table: analysis
      columns:
        analysis_id: analysis_id
    pub:
      table: pub
      columns:
        pub_id: pub_id
  referring_tables: 
analysis_relationship:
  description: ""
  fields:
    analysis_relationship_id:
      type: serial
      not null: TRUE
    subject_id:
      type: bigint
      not null: TRUE
    object_id:
      type: bigint
      not null: TRUE
    type_id:
      type: bigint
      not null: TRUE
    value:
      type: text
      not null: FALSE
    rank:
      type: integer
      not null: TRUE
  unique keys:
    analysis_relationship_c1: subject_id, object_id, type_id, rank
  primary key: analysis_relationship_id
  foreign keys:
    analysis:
      table: analysis
      columns:
        object_id: analysis_id
        subject_id: analysis_id
    cvterm:
      table: cvterm
      columns:
        type_id: cvterm_id
  referring_tables: 
analysisfeature:
  description: "Computational analyses generate features (e.g. Genscan generates transcripts and exons; sim4 alignments generate similarity/match features). analysisfeatures are stored using the feature table from the sequence module. The analysisfeature table is used to decorate these features, with analysis specific attributes. A feature is an analysisfeature if and only if there is a corresponding entry in the analysisfeature table. analysisfeatures will have two or more featureloc entries,  with rank indicating query/subject"
  fields:
    analysisfeature_id:
      type: serial
      not null: TRUE
    feature_id:
      type: bigint
      not null: TRUE
    analysis_id:
      type: bigint
      not null: TRUE
    rawscore:
      type: double precision
      not null: FALSE
    normscore:
      type: double precision
      not null: FALSE
    significance:
      type: double precision
      not null: FALSE
    identity:
      type: double precision
      not null: FALSE
  unique keys:
    analysisfeature_c1: feature_id, analysis_id
  primary key: analysisfeature_id
  foreign keys:
    analysis:
      table: analysis
      columns:
        analysis_id: analysis_id
    feature:
      table: feature
      columns:
        feature_id: feature_id
  referring_tables: analysisfeatureprop
analysisfeatureprop:
  description: ""
  fields:
    analysisfeatureprop_id:
      type: serial
      not null: TRUE
    analysisfeature_id:
      type: bigint
      not null: TRUE
    type_id:
      type: bigint
      not null: TRUE
    value:
      type: text
      not null: FALSE
    rank:
      type: integer
      not null: TRUE
  unique keys:
    analysisfeature_id_type_id_rank: analysisfeature_id, type_id, rank
  primary key: analysisfeatureprop_id
  foreign keys:
    analysisfeature:
      table: analysisfeature
      columns:
        analysisfeature_id: analysisfeature_id
    cvterm:
      table: cvterm
      columns:
        type_id: cvterm_id
  referring_tables: 
analysisprop:
  description: ""
  fields:
    analysisprop_id:
      type: serial
      not null: TRUE
    analysis_id:
      type: bigint
      not null: TRUE
    type_id:
      type: bigint
      not null: TRUE
    value:
      type: text
      not null: FALSE
    rank:
      type: integer
      not null: TRUE
  unique keys:
    analysisprop_c1: analysis_id, type_id, rank
  primary key: analysisprop_id
  foreign keys:
    analysis:
      table: analysis
      columns:
        analysis_id: analysis_id
    cvterm:
      table: cvterm
      columns:
        type_id: cvterm_id
  referring_tables: 
arraydesign:
  description: "General properties about an array. An array is a template used to generate physical slides, etc.  It contains layout information, as well as global array properties, such as material (glass, nylon) and spot dimensions (in rows/columns)."
  fields:
    arraydesign_id:
      type: serial
      not null: TRUE
    manufacturer_id:
      type: bigint
      not null: TRUE
    platformtype_id:
      type: bigint
      not null: TRUE
    substratetype_id:
      type: bigint
      not null: FALSE
    protocol_id:
      type: bigint
      not null: FALSE
    dbxref_id:
      type: bigint
      not null: FALSE
    name:
      type: text
      not null: TRUE
    version:
      type: text
      not null: FALSE
    description:
      type: text
      not null: FALSE
    array_dimensions:
      type: text
      not null: FALSE
    element_dimensions:
      type: text
      not null: FALSE
    num_of_elements:
      type: integer
      not null: FALSE
    num_array_columns:
      type: integer
      not null: FALSE
    num_array_rows:
      type: integer
      not null: FALSE
    num_grid_columns:
      type: integer
      not null: FALSE
    num_grid_rows:
      type: integer
      not null: FALSE
    num_sub_columns:
      type: integer
      not null: FALSE
    num_sub_rows:
      type: integer
      not null: FALSE
  unique keys:
    arraydesign_c1: name
  primary key: arraydesign_id
  foreign keys:
    contact:
      table: contact
      columns:
        manufacturer_id: contact_id
    cvterm:
      table: cvterm
      columns:
        platformtype_id: cvterm_id
        substratetype_id: cvterm_id
    dbxref:
      table: dbxref
      columns:
        dbxref_id: dbxref_id
    protocol:
      table: protocol
      columns:
        protocol_id: protocol_id
  referring_tables: arraydesignprop, assay, element
arraydesignprop:
  description: "Extra array design properties that are not accounted for in arraydesign."
  fields:
    arraydesignprop_id:
      type: serial
      not null: TRUE
    arraydesign_id:
      type: bigint
      not null: TRUE
    type_id:
      type: bigint
      not null: TRUE
    value:
      type: text
      not null: FALSE
    rank:
      type: integer
      not null: TRUE
  unique keys:
    arraydesignprop_c1: arraydesign_id, type_id, rank
  primary key: arraydesignprop_id
  foreign keys:
    arraydesign:
      table: arraydesign
      columns:
        arraydesign_id: arraydesign_id
    cvterm:
      table: cvterm
      columns:
        type_id: cvterm_id
  referring_tables: 
assay:
  description: "An assay consists of a physical instance of an array, combined with the conditions used to create the array (protocols, technician information). The assay can be thought of as a hybridization."
  fields:
    assay_id:
      type: serial
      not null: TRUE
    arraydesign_id:
      type: bigint
      not null: TRUE
    protocol_id:
      type: bigint
      not null: FALSE
    assaydate:
      type: timestamp without time zone
      not null: FALSE
      default: CURRENT_TIMESTAMP
    arrayidentifier:
      type: text
      not null: FALSE
    arraybatchidentifier:
      type: text
      not null: FALSE
    operator_id:
      type: bigint
      not null: TRUE
    dbxref_id:
      type: bigint
      not null: FALSE
    name:
      type: text
      not null: FALSE
    description:
      type: text
      not null: FALSE
  unique keys:
    assay_c1: name
  primary key: assay_id
  foreign keys:
    arraydesign:
      table: arraydesign
      columns:
        arraydesign_id: arraydesign_id
    contact:
      table: contact
      columns:
        operator_id: contact_id
    dbxref:
      table: dbxref
      columns:
        dbxref_id: dbxref_id
    protocol:
      table: protocol
      columns:
        protocol_id: protocol_id
  referring_tables: acquisition, assay_biomaterial, assay_project, assayprop, control, study_assay, studyfactorvalue
assay_biomaterial:
  description: "A biomaterial can be hybridized many times (technical replicates), or combined with other biomaterials in a single hybridization (for two-channel arrays)."
  fields:
    assay_biomaterial_id:
      type: serial
      not null: TRUE
    assay_id:
      type: bigint
      not null: TRUE
    biomaterial_id:
      type: bigint
      not null: TRUE
    channel_id:
      type: bigint
      not null: FALSE
    rank:
      type: integer
      not null: TRUE
  unique keys:
    assay_biomaterial_c1: assay_id, biomaterial_id, channel_id, rank
  primary key: assay_biomaterial_id
  foreign keys:
    assay:
      table: assay
      columns:
        assay_id: assay_id
    biomaterial:
      table: biomaterial
      columns:
        biomaterial_id: biomaterial_id
    channel:
      table: channel
      columns:
        channel_id: channel_id
  referring_tables: 
assay_project:
  description: "Link assays to projects."
  fields:
    assay_project_id:
      type: serial
      not null: TRUE
    assay_id:
      type: bigint
      not null: TRUE
    project_id:
      type: bigint
      not null: TRUE
  unique keys:
    assay_project_c1: assay_id, project_id
  primary key: assay_project_id
  foreign keys:
    assay:
      table: assay
      columns:
        assay_id: assay_id
    project:
      table: project
      columns:
        project_id: project_id
  referring_tables: 
assayprop:
  description: "Extra assay properties that are not accounted for in assay."
  fields:
    assayprop_id:
      type: serial
      not null: TRUE
    assay_id:
      type: bigint
      not null: TRUE
    type_id:
      type: bigint
      not null: TRUE
    value:
      type: text
      not null: FALSE
    rank:
      type: integer
      not null: TRUE
  unique keys:
    assayprop_c1: assay_id, type_id, rank
  primary key: assayprop_id
  foreign keys:
    assay:
      table: assay
      columns:
        assay_id: assay_id
    cvterm:
      table: cvterm
      columns:
        type_id: cvterm_id
  referring_tables: 
biomaterial:
  description: "A biomaterial represents the MAGE concept of BioSource, BioSample, and LabeledExtract. It is essentially some biological material (tissue, cells, serum) that may have been processed. Processed biomaterials should be traceable back to raw biomaterials via the biomaterialrelationship table."
  fields:
    biomaterial_id:
      type: serial
      not null: TRUE
    taxon_id:
      type: bigint
      not null: FALSE
    biosourceprovider_id:
      type: bigint
      not null: FALSE
    dbxref_id:
      type: bigint
      not null: FALSE
    name:
      type: text
      not null: FALSE
    description:
      type: text
      not null: FALSE
  unique keys:
    biomaterial_c1: name
  primary key: biomaterial_id
  foreign keys:
    contact:
      table: contact
      columns:
        biosourceprovider_id: contact_id
    dbxref:
      table: dbxref
      columns:
        dbxref_id: dbxref_id
    organism:
      table: organism
      columns:
        taxon_id: organism_id
  referring_tables: assay_biomaterial, biomaterial_dbxref, biomaterial_relationship, biomaterial_treatment, biomaterialprop, treatment
biomaterial_dbxref:
  description: ""
  fields:
    biomaterial_dbxref_id:
      type: serial
      not null: TRUE
    biomaterial_id:
      type: bigint
      not null: TRUE
    dbxref_id:
      type: bigint
      not null: TRUE
  unique keys:
    biomaterial_dbxref_c1: biomaterial_id, dbxref_id
  primary key: biomaterial_dbxref_id
  foreign keys:
    biomaterial:
      table: biomaterial
      columns:
        biomaterial_id: biomaterial_id
    dbxref:
      table: dbxref
      columns:
        dbxref_id: dbxref_id
  referring_tables: 
biomaterial_relationship:
  description: "Relate biomaterials to one another. This is a way to track a series of treatments or material splits/merges, for instance."
  fields:
    biomaterial_relationship_id:
      type: serial
      not null: TRUE
    subject_id:
      type: bigint
      not null: TRUE
    type_id:
      type: bigint
      not null: TRUE
    object_id:
      type: bigint
      not null: TRUE
  unique keys:
    biomaterial_relationship_c1: subject_id, object_id, type_id
  primary key: biomaterial_relationship_id
  foreign keys:
    biomaterial:
      table: biomaterial
      columns:
        object_id: biomaterial_id
        subject_id: biomaterial_id
    cvterm:
      table: cvterm
      columns:
        type_id: cvterm_id
  referring_tables: 
biomaterial_treatment:
  description: "Link biomaterials to treatments. Treatments have an order of operations (rank), and associated measurements (unittype_id, value)."
  fields:
    biomaterial_treatment_id:
      type: serial
      not null: TRUE
    biomaterial_id:
      type: bigint
      not null: TRUE
    treatment_id:
      type: bigint
      not null: TRUE
    unittype_id:
      type: bigint
      not null: FALSE
    value:
      type: real
      not null: FALSE
    rank:
      type: integer
      not null: TRUE
  unique keys:
    biomaterial_treatment_c1: biomaterial_id, treatment_id
  primary key: biomaterial_treatment_id
  foreign keys:
    biomaterial:
      table: biomaterial
      columns:
        biomaterial_id: biomaterial_id
    cvterm:
      table: cvterm
      columns:
        unittype_id: cvterm_id
    treatment:
      table: treatment
      columns:
        treatment_id: treatment_id
  referring_tables: 
biomaterialprop:
  description: "Extra biomaterial properties that are not accounted for in biomaterial."
  fields:
    biomaterialprop_id:
      type: serial
      not null: TRUE
    biomaterial_id:
      type: bigint
      not null: TRUE
    type_id:
      type: bigint
      not null: TRUE
    value:
      type: text
      not null: FALSE
    rank:
      type: integer
      not null: TRUE
  unique keys:
    biomaterialprop_c1: biomaterial_id, type_id, rank
  primary key: biomaterialprop_id
  foreign keys:
    biomaterial:
      table: biomaterial
      columns:
        biomaterial_id: biomaterial_id
    cvterm:
      table: cvterm
      columns:
        type_id: cvterm_id
